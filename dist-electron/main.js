"use strict";const{app:n,BrowserWindow:i}=require("electron"),o=require("path");process.env.DIST=o.join(__dirname,"../dist");process.env.VITE_PUBLIC=n.isPackaged?process.env.DIST:o.join(__dirname,"../public");let e=null;function t(){e=new i({icon:o.join(process.env.VITE_PUBLIC,"electron-vite.svg"),webPreferences:{preload:o.join(__dirname,"preload.js"),nodeIntegration:!1,contextIsolation:!0},width:1200,height:800,autoHideMenuBar:!0}),e.webContents.on("did-finish-load",()=>{e==null||e.webContents.send("main-process-message",new Date().toLocaleString())}),process.env.VITE_DEV_SERVER_URL?(e.loadURL(process.env.VITE_DEV_SERVER_URL),e.webContents.openDevTools()):e.loadFile(o.join(process.env.DIST,"index.html"))}n.on("window-all-closed",()=>{e=null,process.platform!=="darwin"&&n.quit()});n.on("second-instance",()=>{e&&(e.isMinimized()&&e.restore(),e.focus())});n.on("activate",()=>{const s=i.getAllWindows();s.length?s[0].focus():t()});n.whenReady().then(t);
